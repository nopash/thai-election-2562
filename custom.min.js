var app=new Vue({el:"#app",data:{message:"Hello Vue!",candidates:null,provinces:null,districts:null,matchedDistricts:null,districtNos:null,parties:null,selectedProvince:"",selectedDistrictNo:"",selectedParty:"",candidate:null},mounted(){axios.all([axios.get("candidates2562.min.json"),axios.get("districts2562.min.json")]).then(axios.spread((t,i)=>{this.candidates=t.data,this.provinces=_.uniq(_.map(this.candidates,"province")),this.districts=i.data})).catch(t=>console.log(t))},methods:{getDistrictNos:function(t){this.districtNos=null,this.matchedDistricts=null,this.districtNos=_.uniq(_.map(_.filter(this.candidates,["province",t.target.value]),"district_no")),this.matchedDistricts=_.filter(this.districts,["province",t.target.value]).sort((t,i)=>t.district_name.localeCompare(i.district_name)),this.parties=null,this.candidate=null},getParties:function(t){$("#districtModal").modal("hide"),this.selectedDistrictNo=t.target.value,this.parties=_.map(_.filter(this.candidates,{province:this.selectedProvince,district_no:parseInt(t.target.value)}),"party").sort((t,i)=>t.localeCompare(i)),this.candidate=null},getCandidate:function(t){this.candidate=_.find(this.candidates,{province:this.selectedProvince,district_no:parseInt(this.selectedDistrictNo),party:t.target.value})}}});